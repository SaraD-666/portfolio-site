{"ast":null,"code":"import { createCommentVNode as _createCommentVNode, normalizeStyle as _normalizeStyle, createElementVNode as _createElementVNode, resolveDynamicComponent as _resolveDynamicComponent, openBlock as _openBlock, createBlock as _createBlock, createElementBlock as _createElementBlock, Transition as _Transition, withCtx as _withCtx, createVNode as _createVNode } from \"vue\";\nconst _hoisted_1 = {\n  class: \"custom-scrollbar\"\n};\nconst _hoisted_2 = {\n  class: \"sec\"\n};\nconst _hoisted_3 = {\n  class: \"next\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  return _openBlock(), _createElementBlock(\"div\", {\n    class: \"resume\",\n    onMousewheel: _cache[1] || (_cache[1] = (...args) => $options.mouse && $options.mouse(...args)),\n    onTouchstart: _cache[2] || (_cache[2] = (...args) => $options.handleTouchStart && $options.handleTouchStart(...args)),\n    onTouchend: _cache[3] || (_cache[3] = (...args) => $options.handleTouchEnd && $options.handleTouchEnd(...args))\n  }, [_createCommentVNode(\" 右侧自定义滚动条 \"), _createElementVNode(\"div\", _hoisted_1, [_createElementVNode(\"div\", {\n    class: \"custom-thumb\",\n    style: _normalizeStyle($options.thumbStyle)\n  }, null, 4 /* STYLE */)]), _createVNode(_Transition, {\n    duration: {\n      enter: 1000,\n      leave: 500\n    },\n    \"leave-active-class\": `animate__animated ${$data.leaveanimate}`,\n    \"enter-active-class\": `animate__animated ${$data.enteranimate}`,\n    mode: \"out-in\"\n  }, {\n    default: _withCtx(() => [(_openBlock(), _createElementBlock(\"div\", {\n      class: \"section\",\n      style: _normalizeStyle({\n        height: `${$data.clientHeight}`\n      }),\n      key: $data.init\n    }, [_createElementVNode(\"div\", _hoisted_2, [(_openBlock(), _createBlock(_resolveDynamicComponent($options.currentView)))])], 4 /* STYLE */))]),\n    _: 1 /* STABLE */\n  }, 8 /* PROPS */, [\"leave-active-class\", \"enter-active-class\"]), _createElementVNode(\"div\", _hoisted_3, [_createElementVNode(\"i\", {\n    class: \"iconfont icon-xiala setarrow\",\n    onClick: _cache[0] || (_cache[0] = (...args) => $options.nextPage && $options.nextPage(...args))\n  })])], 32 /* NEED_HYDRATION */);\n}","map":{"version":3,"names":["class","_createElementBlock","onMousewheel","_cache","args","$options","mouse","onTouchstart","handleTouchStart","onTouchend","handleTouchEnd","_createCommentVNode","_createElementVNode","_hoisted_1","style","_normalizeStyle","thumbStyle","_createVNode","_Transition","duration","enter","leave","$data","leaveanimate","enteranimate","mode","default","_withCtx","height","clientHeight","key","init","_hoisted_2","_createBlock","_resolveDynamicComponent","currentView","_","_hoisted_3","onClick","nextPage"],"sources":["/Users/saradou/Developer/portfolio_site/src/views/IndexView.vue"],"sourcesContent":["<template>\r\n  <div class=\"resume\" @mousewheel=\"mouse\" @touchstart=\"handleTouchStart\" @touchend=\"handleTouchEnd\">\r\n    <!-- 右侧自定义滚动条 -->\r\n    <div class=\"custom-scrollbar\">\r\n      <div class=\"custom-thumb\" :style=\"thumbStyle\"></div>\r\n    </div>\r\n    <transition :duration=\"{ enter: 1000, leave: 500 }\" :leave-active-class=\"`animate__animated ${leaveanimate}`\"\r\n      :enter-active-class=\"`animate__animated ${enteranimate}`\" mode=\"out-in\">\r\n      <div class=\"section\" :style=\"{ height: `${clientHeight}` }\" :key=\"init\">\r\n        <div class=\"sec\">\r\n          <component :is=\"currentView\"></component>\r\n        </div>\r\n      </div>\r\n    </transition>\r\n    <div class=\"next\"><i class=\"iconfont icon-xiala setarrow\" @click=\"nextPage\"></i></div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport HomeView from '@/views/HomeView'\r\nimport AboutView from '@/views/AboutView'\r\nimport ContactView from '@/views/ContactView'\r\n\r\nexport default {\r\n  components: {\r\n    HomeView,\r\n    AboutView,\r\n    ContactView\r\n  },\r\n  data() {\r\n    return {\r\n      clientHeight: '900px',\r\n      init: 1,\r\n      lastscroll: 0,\r\n      isScrolling: false, // 新增：标记是否正在滑动\r\n      leaveanimate: '', // 动态设置退出动画\r\n      enteranimate: '', // 动态设置进入动画\r\n      touchStartY: 0, // 记录触摸开始的 Y 坐标\r\n      touchEndY: 0 // 记录触摸结束的 Y 坐标\r\n    }\r\n  },\r\n  computed: {\r\n    currentView() {\r\n      switch (this.init) {\r\n        case 1: return 'HomeView'\r\n        case 2: return 'AboutView'\r\n        case 3: return 'ContactView'\r\n        default: return 'HomeView'\r\n      }\r\n    },\r\n    thumbStyle() {\r\n      // 总页数\r\n      const total = 3\r\n      // 滑块高度（百分比）\r\n      const height = 100 / total\r\n      // 滑块顶部位置（百分比）\r\n      const top = (this.init - 1) * height\r\n      return {\r\n        height: `${height}%`,\r\n        top: `${top}%`\r\n      }\r\n    }\r\n  },\r\n  methods: {\r\n    mouse(event) {\r\n      if (this.isScrolling) return; // 如果正在滑动，直接返回\r\n      const scrollduration = event.timeStamp - this.lastscroll;\r\n\r\n      // 限制滚动触发频率\r\n      if (scrollduration > 2000) {\r\n        this.lastscroll = event.timeStamp;\r\n        this.isScrolling = true; // 设置滑动状态\r\n\r\n        if (event.deltaY > 0) {\r\n          // 向下滚动\r\n          if (this.init < 3) {\r\n            this.leaveanimate = 'animate__fadeOutUp'; // 向上退出\r\n            this.enteranimate = 'animate__fadeInUp'; // 从下进入\r\n            this.init++;\r\n          }\r\n        } else {\r\n          // 向上滚动\r\n          if (this.init > 1) {\r\n            this.leaveanimate = 'animate__fadeOutDown'; // 向下退出\r\n            this.enteranimate = 'animate__fadeInDown'; // 从上进入\r\n            this.init--;\r\n          }\r\n        }\r\n\r\n        // 动画完成后解除滑动状态\r\n        setTimeout(() => {\r\n          this.isScrolling = false;\r\n        }, 2000); // 动画持续时间\r\n      }\r\n    },\r\n    handleTouchStart(event) {\r\n      // 记录触摸开始的 Y 坐标\r\n      this.touchStartY = event.touches[0].clientY;\r\n    },\r\n    handleTouchEnd(event) {\r\n      if (this.isScrolling) return; // 如果正在滑动，直接返回\r\n      const scrollduration = event.timeStamp - this.lastscroll;\r\n\r\n      // 限制触摸滑动触发频率\r\n      if (scrollduration > 1000) {\r\n        this.lastscroll = event.timeStamp;\r\n        this.isScrolling = true; // 设置滑动状态\r\n\r\n        // 记录触摸结束的 Y 坐标\r\n        this.touchEndY = event.changedTouches[0].clientY;\r\n        const deltaY = this.touchEndY - this.touchStartY;\r\n\r\n        if (Math.abs(deltaY) > 50) {\r\n          // 判断滑动方向\r\n          if (deltaY < 0) {\r\n            // 向上滑动\r\n            if (this.init < 3) {\r\n              this.leaveanimate = 'animate__fadeOutUp'; // 向上退出\r\n              this.enteranimate = 'animate__fadeInUp'; // 从下进入\r\n              this.init++;\r\n            }\r\n          } else {\r\n            // 向下滑动\r\n            if (this.init > 1) {\r\n              this.leaveanimate = 'animate__fadeOutDown'; // 向下退出\r\n              this.enteranimate = 'animate__fadeInDown'; // 从上进入\r\n              this.init--;\r\n            }\r\n          }\r\n        }\r\n\r\n        // 动画完成后解除滑动状态\r\n        setTimeout(() => {\r\n          this.isScrolling = false;\r\n        }, 1000); // 动画持续时间\r\n      }\r\n    },\r\n    nextPage() {\r\n      if (this.init === 3) {\r\n        this.init = 1;\r\n      } else {\r\n        this.init = this.init + 1;\r\n      }\r\n    }\r\n  },\r\n  mounted() {\r\n    this.clientHeight = `${document.documentElement.clientHeight}px`;\r\n    window.onresize = () => {\r\n      this.clientHeight = `${document.documentElement.clientHeight}px`;\r\n    };\r\n  }\r\n}\r\n</script>\r\n\r\n<style>\r\n.resume {\r\n  position: relative;\r\n  height: 100%;\r\n  overflow: hidden;\r\n}\r\n\r\n/* 自定义右侧滚动条样式 */\r\n.custom-scrollbar {\r\n  position: absolute;\r\n  right: 20px;\r\n  top: 50%;\r\n  transform: translateY(-50%);\r\n  width: 6px;\r\n  height: 120px;\r\n  background: #f0f0f0;\r\n  border-radius: 3px;\r\n  z-index: 10;\r\n  box-shadow: 0 0 2px #ccc;\r\n  display: none;\r\n}\r\n\r\n.custom-thumb {\r\n  position: absolute;\r\n  left: 0;\r\n  width: 100%;\r\n  background: #409eff;\r\n  border-radius: 3px;\r\n  transition: top 0.3s;\r\n}\r\n\r\n.section {\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  height: 100%;\r\n}\r\n\r\n/* 隐藏顶部 Tab 栏（假设 Tab 栏在 nav 中） */\r\n@media screen and (max-width: 768px) {\r\n  nav {\r\n    display: none;\r\n  }\r\n}\r\n\r\n.page-indicator {\r\n  position: absolute;\r\n  right: 30px;\r\n  top: 50%;\r\n  transform: translateY(-50%);\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 12px;\r\n  z-index: 10;\r\n}\r\n\r\n.dot {\r\n  width: 12px;\r\n  height: 12px;\r\n  border-radius: 50%;\r\n  background: #ccc;\r\n  transition: background 0.3s;\r\n}\r\n\r\n.dot.active {\r\n  background: #409eff;\r\n}\r\n</style>"],"mappings":";;EAGSA,KAAK,EAAC;AAAkB;;EAMpBA,KAAK,EAAC;AAAK;;EAKfA,KAAK,EAAC;AAAM;;uBAbnBC,mBAAA,CAcM;IAdDD,KAAK,EAAC,QAAQ;IAAEE,YAAU,EAAAC,MAAA,QAAAA,MAAA,UAAAC,IAAA,KAAEC,QAAA,CAAAC,KAAA,IAAAD,QAAA,CAAAC,KAAA,IAAAF,IAAA,CAAK;IAAGG,YAAU,EAAAJ,MAAA,QAAAA,MAAA,UAAAC,IAAA,KAAEC,QAAA,CAAAG,gBAAA,IAAAH,QAAA,CAAAG,gBAAA,IAAAJ,IAAA,CAAgB;IAAGK,UAAQ,EAAAN,MAAA,QAAAA,MAAA,UAAAC,IAAA,KAAEC,QAAA,CAAAK,cAAA,IAAAL,QAAA,CAAAK,cAAA,IAAAN,IAAA,CAAc;MAC9FO,mBAAA,cAAiB,EACjBC,mBAAA,CAEM,OAFNC,UAEM,GADJD,mBAAA,CAAoD;IAA/CZ,KAAK,EAAC,cAAc;IAAEc,KAAK,EAJtCC,eAAA,CAIwCV,QAAA,CAAAW,UAAU;6BAE9CC,YAAA,CAOaC,WAAA;IAPAC,QAAQ,EAAE;MAAAC,KAAA;MAAAC,KAAA;IAAA,CAA2B;IAAG,oBAAkB,uBAAuBC,KAAA,CAAAC,YAAY;IACvG,oBAAkB,uBAAuBD,KAAA,CAAAE,YAAY;IAAIC,IAAI,EAAC;;IAPrEC,OAAA,EAAAC,QAAA,CAQM,MAIM,E,cAJN1B,mBAAA,CAIM;MAJDD,KAAK,EAAC,SAAS;MAAEc,KAAK,EARjCC,eAAA;QAAAa,MAAA,KAQgDN,KAAA,CAAAO,YAAY;MAAA;MAAOC,GAAG,EAAER,KAAA,CAAAS;QAChEnB,mBAAA,CAEM,OAFNoB,UAEM,I,cADJC,YAAA,CAAyCC,wBAVnD,CAU0B7B,QAAA,CAAA8B,WAAW,I;IAVrCC,CAAA;mEAcIxB,mBAAA,CAAsF,OAAtFyB,UAAsF,GAApEzB,mBAAA,CAA8D;IAA3DZ,KAAK,EAAC,8BAA8B;IAAEsC,OAAK,EAAAnC,MAAA,QAAAA,MAAA,UAAAC,IAAA,KAAEC,QAAA,CAAAkC,QAAA,IAAAlC,QAAA,CAAAkC,QAAA,IAAAnC,IAAA,CAAQ","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}