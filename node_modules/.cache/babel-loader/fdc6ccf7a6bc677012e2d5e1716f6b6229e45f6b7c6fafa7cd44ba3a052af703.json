{"ast":null,"code":"import HomeView from '@/views/HomeView';\nimport AboutView from '@/views/AboutView';\nimport ContactView from '@/views/ContactView';\nexport default {\n  components: {\n    HomeView,\n    AboutView,\n    ContactView\n  },\n  data() {\n    return {\n      clientHeight: '900px',\n      init: 1,\n      lastscroll: 0,\n      isScrolling: false,\n      // 新增：标记是否正在滑动\n      leaveanimate: '',\n      // 动态设置退出动画\n      enteranimate: '',\n      // 动态设置进入动画\n      touchStartY: 0,\n      // 记录触摸开始的 Y 坐标\n      touchEndY: 0 // 记录触摸结束的 Y 坐标\n    };\n  },\n  computed: {\n    currentView() {\n      switch (this.init) {\n        case 1:\n          return 'HomeView';\n        case 2:\n          return 'AboutView';\n        case 3:\n          return 'ContactView';\n        default:\n          return 'HomeView';\n      }\n    },\n    thumbStyle() {\n      // 总页数\n      const total = 3;\n      // 滑块高度（百分比）\n      const height = 100 / total;\n      // 滑块顶部位置（百分比）\n      const top = (this.init - 1) * height;\n      return {\n        height: `${height}%`,\n        top: `${top}%`\n      };\n    }\n  },\n  methods: {\n    mouse(event) {\n      if (this.isScrolling) return; // 如果正在滑动，直接返回\n      const scrollduration = event.timeStamp - this.lastscroll;\n\n      // 限制滚动触发频率\n      if (scrollduration > 2000) {\n        this.lastscroll = event.timeStamp;\n        this.isScrolling = true; // 设置滑动状态\n\n        if (event.deltaY > 0) {\n          // 向下滚动\n          if (this.init < 3) {\n            this.leaveanimate = 'animate__fadeOutUp'; // 向上退出\n            this.enteranimate = 'animate__fadeInUp'; // 从下进入\n            this.init++;\n          }\n        } else {\n          // 向上滚动\n          if (this.init > 1) {\n            this.leaveanimate = 'animate__fadeOutDown'; // 向下退出\n            this.enteranimate = 'animate__fadeInDown'; // 从上进入\n            this.init--;\n          }\n        }\n\n        // 动画完成后解除滑动状态\n        setTimeout(() => {\n          this.isScrolling = false;\n        }, 2000); // 动画持续时间\n      }\n    },\n    handleTouchStart(event) {\n      // 记录触摸开始的 Y 坐标\n      this.touchStartY = event.touches[0].clientY;\n    },\n    handleTouchEnd(event) {\n      if (this.isScrolling) return; // 如果正在滑动，直接返回\n      const scrollduration = event.timeStamp - this.lastscroll;\n\n      // 限制触摸滑动触发频率\n      if (scrollduration > 1000) {\n        this.lastscroll = event.timeStamp;\n        this.isScrolling = true; // 设置滑动状态\n\n        // 记录触摸结束的 Y 坐标\n        this.touchEndY = event.changedTouches[0].clientY;\n        const deltaY = this.touchEndY - this.touchStartY;\n        if (Math.abs(deltaY) > 50) {\n          // 判断滑动方向\n          if (deltaY < 0) {\n            // 向上滑动\n            if (this.init < 3) {\n              this.leaveanimate = 'animate__fadeOutUp'; // 向上退出\n              this.enteranimate = 'animate__fadeInUp'; // 从下进入\n              this.init++;\n            }\n          } else {\n            // 向下滑动\n            if (this.init > 1) {\n              this.leaveanimate = 'animate__fadeOutDown'; // 向下退出\n              this.enteranimate = 'animate__fadeInDown'; // 从上进入\n              this.init--;\n            }\n          }\n        }\n\n        // 动画完成后解除滑动状态\n        setTimeout(() => {\n          this.isScrolling = false;\n        }, 1000); // 动画持续时间\n      }\n    },\n    nextPage() {\n      if (this.init === 3) {\n        this.init = 1;\n      } else {\n        this.init = this.init + 1;\n      }\n    }\n  },\n  mounted() {\n    this.clientHeight = `${document.documentElement.clientHeight}px`;\n    window.onresize = () => {\n      this.clientHeight = `${document.documentElement.clientHeight}px`;\n    };\n  }\n};","map":{"version":3,"names":["HomeView","AboutView","ContactView","components","data","clientHeight","init","lastscroll","isScrolling","leaveanimate","enteranimate","touchStartY","touchEndY","computed","currentView","thumbStyle","total","height","top","methods","mouse","event","scrollduration","timeStamp","deltaY","setTimeout","handleTouchStart","touches","clientY","handleTouchEnd","changedTouches","Math","abs","nextPage","mounted","document","documentElement","window","onresize"],"sources":["/Users/saradou/Developer/vue3_master 4/src/views/IndexView.vue"],"sourcesContent":["<template>\r\n  <div class=\"resume\" @mousewheel=\"mouse\" @touchstart=\"handleTouchStart\" @touchend=\"handleTouchEnd\">\r\n    <!-- 右侧自定义滚动条 -->\r\n    <div class=\"custom-scrollbar\">\r\n      <div class=\"custom-thumb\" :style=\"thumbStyle\"></div>\r\n    </div>\r\n    <transition :duration=\"{ enter: 1000, leave: 500 }\" :leave-active-class=\"`animate__animated ${leaveanimate}`\"\r\n      :enter-active-class=\"`animate__animated ${enteranimate}`\" mode=\"out-in\">\r\n      <div class=\"section\" :style=\"{ height: `${clientHeight}` }\" :key=\"init\">\r\n        <div class=\"sec\">\r\n          <component :is=\"currentView\"></component>\r\n        </div>\r\n      </div>\r\n    </transition>\r\n    <div class=\"next\"><i class=\"iconfont icon-xiala setarrow\" @click=\"nextPage\"></i></div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport HomeView from '@/views/HomeView'\r\nimport AboutView from '@/views/AboutView'\r\nimport ContactView from '@/views/ContactView'\r\n\r\nexport default {\r\n  components: {\r\n    HomeView,\r\n    AboutView,\r\n    ContactView\r\n  },\r\n  data() {\r\n    return {\r\n      clientHeight: '900px',\r\n      init: 1,\r\n      lastscroll: 0,\r\n      isScrolling: false, // 新增：标记是否正在滑动\r\n      leaveanimate: '', // 动态设置退出动画\r\n      enteranimate: '', // 动态设置进入动画\r\n      touchStartY: 0, // 记录触摸开始的 Y 坐标\r\n      touchEndY: 0 // 记录触摸结束的 Y 坐标\r\n    }\r\n  },\r\n  computed: {\r\n    currentView() {\r\n      switch (this.init) {\r\n        case 1: return 'HomeView'\r\n        case 2: return 'AboutView'\r\n        case 3: return 'ContactView'\r\n        default: return 'HomeView'\r\n      }\r\n    },\r\n    thumbStyle() {\r\n      // 总页数\r\n      const total = 3\r\n      // 滑块高度（百分比）\r\n      const height = 100 / total\r\n      // 滑块顶部位置（百分比）\r\n      const top = (this.init - 1) * height\r\n      return {\r\n        height: `${height}%`,\r\n        top: `${top}%`\r\n      }\r\n    }\r\n  },\r\n  methods: {\r\n    mouse(event) {\r\n      if (this.isScrolling) return; // 如果正在滑动，直接返回\r\n      const scrollduration = event.timeStamp - this.lastscroll;\r\n\r\n      // 限制滚动触发频率\r\n      if (scrollduration > 2000) {\r\n        this.lastscroll = event.timeStamp;\r\n        this.isScrolling = true; // 设置滑动状态\r\n\r\n        if (event.deltaY > 0) {\r\n          // 向下滚动\r\n          if (this.init < 3) {\r\n            this.leaveanimate = 'animate__fadeOutUp'; // 向上退出\r\n            this.enteranimate = 'animate__fadeInUp'; // 从下进入\r\n            this.init++;\r\n          }\r\n        } else {\r\n          // 向上滚动\r\n          if (this.init > 1) {\r\n            this.leaveanimate = 'animate__fadeOutDown'; // 向下退出\r\n            this.enteranimate = 'animate__fadeInDown'; // 从上进入\r\n            this.init--;\r\n          }\r\n        }\r\n\r\n        // 动画完成后解除滑动状态\r\n        setTimeout(() => {\r\n          this.isScrolling = false;\r\n        }, 2000); // 动画持续时间\r\n      }\r\n    },\r\n    handleTouchStart(event) {\r\n      // 记录触摸开始的 Y 坐标\r\n      this.touchStartY = event.touches[0].clientY;\r\n    },\r\n    handleTouchEnd(event) {\r\n      if (this.isScrolling) return; // 如果正在滑动，直接返回\r\n      const scrollduration = event.timeStamp - this.lastscroll;\r\n\r\n      // 限制触摸滑动触发频率\r\n      if (scrollduration > 1000) {\r\n        this.lastscroll = event.timeStamp;\r\n        this.isScrolling = true; // 设置滑动状态\r\n\r\n        // 记录触摸结束的 Y 坐标\r\n        this.touchEndY = event.changedTouches[0].clientY;\r\n        const deltaY = this.touchEndY - this.touchStartY;\r\n\r\n        if (Math.abs(deltaY) > 50) {\r\n          // 判断滑动方向\r\n          if (deltaY < 0) {\r\n            // 向上滑动\r\n            if (this.init < 3) {\r\n              this.leaveanimate = 'animate__fadeOutUp'; // 向上退出\r\n              this.enteranimate = 'animate__fadeInUp'; // 从下进入\r\n              this.init++;\r\n            }\r\n          } else {\r\n            // 向下滑动\r\n            if (this.init > 1) {\r\n              this.leaveanimate = 'animate__fadeOutDown'; // 向下退出\r\n              this.enteranimate = 'animate__fadeInDown'; // 从上进入\r\n              this.init--;\r\n            }\r\n          }\r\n        }\r\n\r\n        // 动画完成后解除滑动状态\r\n        setTimeout(() => {\r\n          this.isScrolling = false;\r\n        }, 1000); // 动画持续时间\r\n      }\r\n    },\r\n    nextPage() {\r\n      if (this.init === 3) {\r\n        this.init = 1;\r\n      } else {\r\n        this.init = this.init + 1;\r\n      }\r\n    }\r\n  },\r\n  mounted() {\r\n    this.clientHeight = `${document.documentElement.clientHeight}px`;\r\n    window.onresize = () => {\r\n      this.clientHeight = `${document.documentElement.clientHeight}px`;\r\n    };\r\n  }\r\n}\r\n</script>\r\n\r\n<style>\r\n.resume {\r\n  position: relative;\r\n  height: 100%;\r\n  overflow: hidden;\r\n}\r\n\r\n/* 自定义右侧滚动条样式 */\r\n.custom-scrollbar {\r\n  position: absolute;\r\n  right: 20px;\r\n  top: 50%;\r\n  transform: translateY(-50%);\r\n  width: 6px;\r\n  height: 120px;\r\n  background: #f0f0f0;\r\n  border-radius: 3px;\r\n  z-index: 10;\r\n  box-shadow: 0 0 2px #ccc;\r\n  display: none;\r\n}\r\n\r\n.custom-thumb {\r\n  position: absolute;\r\n  left: 0;\r\n  width: 100%;\r\n  background: #409eff;\r\n  border-radius: 3px;\r\n  transition: top 0.3s;\r\n}\r\n\r\n.section {\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  height: 100%;\r\n}\r\n\r\n/* 隐藏顶部 Tab 栏（假设 Tab 栏在 nav 中） */\r\n@media screen and (max-width: 768px) {\r\n  nav {\r\n    display: none;\r\n  }\r\n}\r\n\r\n.page-indicator {\r\n  position: absolute;\r\n  right: 30px;\r\n  top: 50%;\r\n  transform: translateY(-50%);\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 12px;\r\n  z-index: 10;\r\n}\r\n\r\n.dot {\r\n  width: 12px;\r\n  height: 12px;\r\n  border-radius: 50%;\r\n  background: #ccc;\r\n  transition: background 0.3s;\r\n}\r\n\r\n.dot.active {\r\n  background: #409eff;\r\n}\r\n</style>"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}